<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ログアウト</title>
    <script>
        function confirmLogout() {
            var confirmLogout = confirm("ログアウトしますか？");

            if (confirmLogout) {
                // はいが選択された場合、Flaskの/logoutにPOSTリクエストを送信
                fetch("/logout", { method: "POST" })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert("ログアウトしました。");
                            window.location.href = "/";  // index.indexにリダイレクト
                        } else {
                            alert("ログアウトに失敗しました。");
                        }
                    });
            } else {
                // いいえが選択された場合、トップページにリダイレクト
                alert("ログアウトしませんでした。");
                window.location.href = "/";
            }
        }
    </script>
</head>
<body>
    <div style="text-align: center; padding: 20px;">
        <h3>ログアウトしてもよろしいですか？</h3>
        <button onclick="confirmLogout()">はい</button>
        <button onclick="window.location.href = '/';">いいえ</button>
    </div>
    <script>
        // ページ読み込み時に自動的にログアウト確認を表示
        window.onload = confirmLogout;
    </script>
</body>
</html>
